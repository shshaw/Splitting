!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Splitting=t()}(this,function(){"use strict";function e(e){return t(e).map(function(e,t){return e._splitting||(e._splitting={el:e},e.classList&&e.classList.add("splitting")),e._splitting})}function t(e,t){return e?Array.prototype.slice.call(e.nodeName?[e]:e instanceof NodeList?e:e[0].nodeName?e:(t||document).querySelectorAll(e),0):[]}function n(e,t,n){return n&&(e[t+"s"]=n,e.el.style.setProperty("--"+t+"-total",n.length),n.map(function(e,n){e.style.setProperty("--"+t+"-index",n)})),e}function r(e,n,i,o){var c=e.parentNode;if(c){var l=document.createTextNode("");c.replaceChild(l,e)}e.normalize();var u=t(e.childNodes).reduce(function(t,c){if(c&&c.childNodes&&c.childNodes.length)return e.appendChild(c),t.concat(r(c,n,i,o));var l=(c.wholeText||"").trim();return l.length?(e.removeChild(c),t.concat(l.split(i).map(function(t){var r=document.createElement("span");return r.className=n,r.innerText=t,r.setAttribute("data-"+n,t),e.appendChild(r),o&&r.insertAdjacentText("afterend"," "),r}))):(e.appendChild(c),t)},[]);return c&&c.replaceChild(e,l),u}function i(e){var t,n=[],r=-1,i=-1;return e.map(function(e){t=e.offsetTop,t>i&&(r++,i=t),n[r]=n[r]||[],n[r].push(e),e.style.setProperty("--line-index",r)}),n}return e.$=t,e.index=n,e.split=r,e.children=function(r,i,o){return e(r).map(function(e){return n(e,o,t(i,e.el))})},e.words=function(t){return e(t).map(function(e,t){return e.words?e:n(e,"word",r(e.el,"word",/\s+/,!0))})},e.chars=function(t){return e.words(t).map(function(e){return e.chars?e:n(e,"char",e.words.reduce(function(e,t,n){return e.concat(r(t,"char",""))},[]))})},e.lines=function(t,n,r){return r=n?r||"item":"word",(n?e.children(t,n,r):e.words(t)).map(function(e){return e.lines=i(e[r+"s"]),e.el.style.setProperty("--line-total",e.lines.length),e})},e.fromString=function(t,n){n=n||{};var r=document.createElement("span");return r.innerHTML=t,e[n.type||"chars"].apply(null,[r].concat(n.args||[])),n.element?r:r.outerHTML},e});